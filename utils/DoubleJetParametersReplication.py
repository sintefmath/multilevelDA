## PARAMETERS 
# Collecting all relevant parameter for the experiments
# in this separate file

import numpy as np

#TODO: Allow for different parameter sets

start_basis = 1
num_bases = 7
sim_model_error_basis_args = {
                            "basis_x_start": start_basis+1, 
                            "basis_x_end": start_basis+1+num_bases,
                            "basis_y_start": start_basis,
                            "basis_y_end": start_basis+num_bases,

                            "kl_decay": 0.9,
                            "kl_scaling": 0.001,
                            }

sim_model_error_timestep=60.0

# Parameters for time
T_spinup = 3*24*3600
T_da = 7*24*3600
T_forecast = 3*24*3600

# Parameters for truth obervation
xdim = 1332000.0
ydim = 666000.0

xs = np.linspace(0, xdim, 10, endpoint=False)
ys = np.linspace(0, ydim, 5, endpoint=False)

[obs_xs, obs_ys] = np.array(np.meshgrid(xs, ys)).T.reshape(-1, 2).T

R = [0.5, 100.0, 100.0]

# Parameters for assimilation
obs_var = slice(1,3)
r = 5e4
relax_factor = 0.25
min_location_level = 0

da_timestep = 300

# Drifters
init_positions = [[ 245092.68678222,931180.48435417],
                [ 483981.2300421,1219671.3502562 ],
                [ 907393.47190193,754504.23732621],
                [ 844906.78297748,710403.62379041],
                [68776.87920231, 1003793.44985163],
                [1243912.11565727,553805.08833131],
                [ 525077.11349319,804122.48665332],
                [1143612.27676459,648831.84143958],
                [ 763227.65616765, 1025756.43399864],
                [1316948.48012291,712141.51419424],
                [1023193.13325319, 18564.19318574],
                [1190044.71261742,873579.00183977],
                [75688.76823919,228732.8644116 ],
                [ 122849.28472002, 1268372.42654129],
                [1211459.81714942, 1020388.3387742 ],
                [ 297998.05116903, 39962.55232679],
                [ 358336.67904572, 1044815.92748887],
                [1183343.63242211,993106.15031168],
                [ 357060.09190301,177250.22254863],
                [ 539587.53465555, 1107061.79798107],
                [ 694785.43075366, 1311256.23574979],
                [ 795080.96458494,808553.74397537],
                [ 681458.92542737,868653.20536843],
                [ 963042.06182211,613489.47964575],
                [12526.56080054,880103.06869181],
                [ 534510.26677122,364532.24618768],
                [ 278585.35508383, 1074026.84757693],
                [ 782001.67292524,444056.03438103],
                [ 950533.90681384,194370.46256688],
                [ 307049.2105145, 775038.02320339],
                [ 868451.39801914,591855.11343476],
                [ 911418.08700545,316648.35418485],
                [ 627531.04147252,326098.71341124],
                [ 520169.93827589,917997.52137018],
                [ 731563.8347989, 791535.92379024],
                [1265042.5941903, 715783.84811033],
                [ 218929.28645837,274253.71002925],
                [ 350099.98356458,412623.84341844],
                [1283292.18395533, 1263904.04050873],
                [ 625777.0214132, 589597.99261073],
                [ 937302.43572349,314635.87847058],
                [ 854079.1953476, 170843.820811,],
                [ 153121.64186082, 1127365.88218846],
                [ 459719.07651035, 1164267.07569883],
                [ 989306.1279557, 503843.51838435],
                [ 493137.2540687, 140983.23410031],
                [ 528476.16709263,495164.33560905],
                [26754.83394331,736709.28944348],
                [ 547508.50951561,934593.54129475],
                [ 290233.78276086,178821.43266025],
                [ 954863.96705558,674869.66189569],
                [ 303069.78316056,186718.92877414],
                [ 708575.27063794,591758.89917112],
                [1087127.84517026, 1115766.76734736],
                [ 9853.62872628, 1069848.98783305],
                [ 154441.67714078,370709.63131241],
                [ 475435.48611083, 1239466.11694168],
                [ 432869.24113976, 1039245.80484698],
                [ 946244.6491891,1180083.34325794],
                [ 602649.17818555,927989.61816584],
                [1078814.51057351, 1319506.48077951],
                [ 201613.62326776,485886.74852325],
                [ 338672.89289989,407186.88811668],
                [ 308870.56797847,340496.75704887],
                [ 215952.30959296,923508.4603808 ],
                [1315383.9054376, 427694.66729285],
                [ 831566.13632577, 1023017.13056128],
                [ 623459.75017465,660784.74565097],
                [ 239060.08543174,355907.22483275],
                [1119257.63446331,156123.48982983],
                [ 651403.99118734,412060.15925093],
                [68765.41606298, 1061838.32808252],
                [1327881.61723005,974541.19961579],
                [ 538272.69402242, 1281601.34379507],
                [ 758238.0466391,1238134.40533924],
                [ 328849.65934675, 1294343.54401096],
                [ 650210.95753405, 72528.65104844],
                [ 972793.14017977,137964.59037887],
                [ 438750.27936073,757687.36300288],
                [ 285527.14748322,740791.65190398],
                [ 307298.27693751,107430.34330707],
                [ 889540.01107363,462758.81731585],
                [ 167184.45323677,655618.79798169],
                [ 916206.12119394,588963.08318578],
                [1137704.51944035,209596.77247767],
                [ 273433.00522907,218375.85681167],
                [ 844784.19702029,425568.57192018],
                [ 127325.78279089,882474.03612563],
                [ 165156.19195719,889056.23880455],
                [ 304688.35846602,601801.05046503],
                [ 892431.88021624,411211.98274995],
                [ 442275.88364931, 1241621.1902685 ],
                [1162411.07729937,300223.8549332 ],
                [1189736.70302404, 68134.54324201],
                [ 583370.03640535,708553.22831363],
                [ 305162.77067002,981403.20892387],
                [ 670348.52642737,436128.84052188],
                [ 229860.27817409,964764.60642854],
                [ 161255.48565385,766775.59887077],
                [ 703504.23702849,585196.76971447]]